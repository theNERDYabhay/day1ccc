"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-coding-agent-status_entry_ts-packages_fetch-headers_fetch-headers_ts-package-442e79"],{62189:(e,t,l)=>{l.d(t,{U:()=>s});let s=(e,t)=>{let l=`/copilot/tasks/pull/${encodeURIComponent(e)}`;return t&&(l+=`?session_id=${encodeURIComponent(t)}`),l}},49936:(e,t,l)=>{l.d(t,{I:()=>s});let s=(0,l(96540).createContext)(null)},87057:(e,t,l)=>{l.d(t,{O:()=>r,S:()=>n});var s=l(71315);let a=s.cg?.document?.head?.querySelector('meta[name="release"]')?.content||"",n="X-GitHub-Client-Version";function r(){return a}},33571:(e,t,l)=>{var s=l(7123),a=l(74848),n=l(21728),r=l(34164),o=l(34001),i=l(67154),c=l(78314),d=l(32051),u=l(97189),m=l(81246),f=l(38621),h=l(96540);let p={copilotCard:"CopilotCodingAgentStatus-module__copilotCard--ILAZm",arrowBoth:"CopilotCodingAgentStatus-module__arrowBoth--d8Jfk"};var x=l(77367),j=l(69599),C=l(62189);function y(e){switch(e){case i.Yj.Queued:case i.Yj.InProgress:case i.Yj.WaitingForUser:case i.Yj.Idle:case i.Yj.Completed:return(0,a.jsx)(f.CopilotIcon,{size:"small"});case i.Yj.Failed:case i.Yj.TimedOut:return(0,a.jsx)(f.CopilotWarningIcon,{size:"small",className:"fgColor-danger"});case i.Yj.Cancelled:return(0,a.jsx)(f.SquareFillIcon,{size:"small",className:"fgColor-muted"});default:return(0,a.jsx)(f.CopilotIcon,{size:"small"})}}function g(e){let t,l,s,u,g,b,_,N,S,I,k,Y,T,w,A,E,R,$,P,F=(0,n.c)(57),{sessionsPollingInterval:O}=e,{pull:V}=(0,d.mV)(),{number:X,id:L,global_relay_id:B}=V;F[0]!==L||F[1]!==O?(t={pullId:L,initialData:void 0,sessionsPollingInterval:O},F[0]=L,F[1]=O,F[2]=t):t=F[2];let{data:H,isLoading:M,isError:Q,timedOut:U,isRetrying:W}=(0,o.t)(t),{ownerLogin:q,name:K}=(0,c.t)(),[z,D]=(0,h.useState)(1),[G,Z]=(0,h.useState)(!1);F[3]!==z||F[4]!==U?(l=()=>U?null:`Retrying${".".repeat(z)}`,F[3]=z,F[4]=U,F[5]=l):l=F[5];let J=l;if(F[6]!==H||F[7]!==Q?(s=()=>{H&&!Q?Z(!1):Q&&Z(!0)},u=[H,Q],F[6]=H,F[7]=Q,F[8]=s,F[9]=u):(s=F[8],u=F[9]),(0,h.useEffect)(s,u),F[10]!==W?(g=()=>{if(!W)return void D(1);let e=setInterval(()=>{D(v)},500);return()=>clearInterval(e)},b=[W],F[10]=W,F[11]=g,F[12]=b):(g=F[11],b=F[12]),(0,h.useEffect)(g,b),F[13]!==J||F[14]!==G||F[15]!==q||F[16]!==B||F[17]!==X||F[18]!==K||F[19]!==H||F[20]!==M){T=Symbol.for("react.early_return_sentinel");e:{let e=H?.at(0),t=function(e,t,l,s,a){if(null!=e&&null!=t&&null!=l)return j.XY.isFeatureEnabled("copilot_mission_control")&&j.XY.isFeatureEnabled("copilot_mission_control_session_redirect")?(0,C.U)(s,a||void 0):`/${e}/${t}/pull/${l}/agent-sessions/${a||""}`}(q,K,X,B,e?.id??null);if(M&&!G){let e,t,l,s;F[30]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.$)(p.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),F[30]=e):e=F[30],F[31]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("div",{className:"mr-2 d-flex flex-column flex-content-start flex-items-start circle Skeleton",style:{height:"16px",width:"16px"},children:"\xa0"}),F[31]=t):t=F[31],F[32]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"mb-0 Skeleton Skeleton--text",children:"\xa0"}),(0,a.jsx)("p",{className:"mb-0 Skeleton Skeleton--text",children:"\xa0"})]}),F[32]=l):l=F[32],F[33]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("div",{className:e,"data-testid":"agent-status-loading-skeleton",children:[t,l,(0,a.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,a.jsx)("div",{className:"flex-self-start",style:{height:"16px",width:"16px"}})})]}),F[33]=s):s=F[33],T=s;break e}if(G){let e,t,l,s,n,o;F[34]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.$)(p.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),F[34]=e):e=F[34],F[35]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("div",{className:"mr-2 fgColor-muted d-flex flex-column flex-content-start flex-items-start",children:y(i.Yj.Failed)}),F[35]=t):t=F[35],F[36]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("p",{className:"mb-0 fgColor-default text-semibold",children:"Error loading sessions"}),F[36]=l):l=F[36];let c=J();F[37]!==c?(s=(0,a.jsxs)("div",{className:"flex-1",children:[l,(0,a.jsx)("p",{className:"mb-0 fgColor-muted text-small",children:c})]}),F[37]=c,F[38]=s):s=F[38],F[39]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,a.jsx)("div",{className:"flex-self-start",style:{height:"16px",width:"16px"}})}),F[39]=n):n=F[39],F[40]!==s?(o=(0,a.jsxs)("div",{className:e,children:[t,s,n]}),F[40]=s,F[41]=o):o=F[41],T=o;break e}_=m.A,I=t,F[42]===Symbol.for("react.memo_cache_sentinel")?(k=(0,r.$)(p.copilotCard,"fgColor-default rounded-2 no-underline mb-3 border d-flex flex-items-stretch"),F[42]=k):k=F[42],Y=(0,a.jsx)("div",{className:"mr-2 fgColor-muted d-flex flex-column flex-content-start flex-items-start",children:y(e?.state??i.Yj.Idle)}),N="flex-1",S=(0,a.jsx)("p",{className:"mb-0 fgColor-default text-semibold",children:function(e){switch(e){case i.Yj.Queued:return"Queued for work";case i.Yj.InProgress:return"In progress";case i.Yj.WaitingForUser:return"Copilot is waiting for your input";case i.Yj.Idle:return"Copilot is blocked";case i.Yj.Completed:return"Copilot is done";case i.Yj.Failed:return"Copilot has failed";case i.Yj.TimedOut:return"Copilot has timed out";case i.Yj.Cancelled:return"Copilot was manually stopped";default:return"In progress"}}(e?.state??i.Yj.Idle)}),w="mb-0 fgColor-muted text-small",A=e&&function(e,t,l){let s=new Date(t).toISOString(),n=(0,x.Y)(t,l);switch(e){case i.Yj.Queued:return(0,a.jsx)("span",{role:"timer",children:(0,a.jsx)("relative-time",{datetime:s,tense:"past"})});case i.Yj.Completed:return(0,a.jsxs)("span",{role:"timer",children:["completed after ",(0,a.jsx)("time",{"aria-live":"off",children:n})]});case i.Yj.Failed:return(0,a.jsxs)("span",{role:"timer",children:["failed after ",(0,a.jsx)("time",{"aria-live":"off",children:n})]});case i.Yj.TimedOut:return(0,a.jsxs)("span",{role:"timer",children:["timed out after ",(0,a.jsx)("time",{"aria-live":"off",children:n})]});case i.Yj.Cancelled:return(0,a.jsxs)("span",{role:"timer",children:["session stopped after ",(0,a.jsx)("time",{"aria-live":"off",children:n})]});default:return(0,a.jsxs)("span",{role:"timer",children:["started ",(0,a.jsx)("relative-time",{datetime:s,tense:"past"})]})}}(e?.state,e?.created_at,e?.completed_at??"")}F[13]=J,F[14]=G,F[15]=q,F[16]=B,F[17]=X,F[18]=K,F[19]=H,F[20]=M,F[21]=_,F[22]=N,F[23]=S,F[24]=I,F[25]=k,F[26]=Y,F[27]=T,F[28]=w,F[29]=A}else _=F[21],N=F[22],S=F[23],I=F[24],k=F[25],Y=F[26],T=F[27],w=F[28],A=F[29];return T!==Symbol.for("react.early_return_sentinel")?T:(F[43]!==w||F[44]!==A?(E=(0,a.jsx)("p",{className:w,children:A}),F[43]=w,F[44]=A,F[45]=E):E=F[45],F[46]!==N||F[47]!==S||F[48]!==E?(R=(0,a.jsxs)("div",{className:N,children:[S,E]}),F[46]=N,F[47]=S,F[48]=E,F[49]=R):R=F[49],F[50]===Symbol.for("react.memo_cache_sentinel")?($=(0,a.jsx)("div",{className:"ml-3 d-flex flex-column flex-justify-start",children:(0,a.jsx)("div",{className:"flex-self-start",children:(0,a.jsx)(f.ArrowBothIcon,{className:`${p.arrowBoth} fgColor-muted`})})}),F[50]=$):$=F[50],F[51]!==_||F[52]!==I||F[53]!==k||F[54]!==Y||F[55]!==R?(P=(0,a.jsxs)(_,{href:I,className:k,children:[Y,R,$]}),F[51]=_,F[52]=I,F[53]=k,F[54]=Y,F[55]=R,F[56]=P):P=F[56],P)}function v(e){return e>=3?1:e+1}function b(e){let t,l,s,r=(0,n.c)(8),{repository:o,pull:i,sessionsPollingInterval:m}=e;return r[0]!==m?(t=(0,a.jsx)(g,{sessionsPollingInterval:m}),r[0]=m,r[1]=t):t=r[1],r[2]!==i||r[3]!==t?(l=(0,a.jsx)(u.Fn,{children:(0,a.jsx)(d.mE,{pull:i,children:t})}),r[2]=i,r[3]=t,r[4]=l):l=r[4],r[5]!==o||r[6]!==l?(s=(0,a.jsx)(c.d,{repository:o,children:l}),r[5]=o,r[6]=l,r[7]=s):s=r[7],s}try{g.displayName||(g.displayName="CopilotCodingAgentStatusWidget")}catch{}try{b.displayName||(b.displayName="CopilotCodingAgentStatus")}catch{}(0,s.k)("copilot-coding-agent-status",{Component:b})},51987:(e,t,l)=>{l.d(t,{jC:()=>i,kt:()=>r,tV:()=>o});var s=l(87057),a=l(69599),n=l(13523);function r(e){let t={"X-Requested-With":"XMLHttpRequest",...(0,n.wE)(e)};return(0,a.G7)("client_version_header")&&(t={...t,[s.S]:(0,s.O)()}),t}function o(e,t){for(let[l,s]of Object.entries(r(t)))e.set(l,s)}function i(e){return{"X-GitHub-App-Type":e}}},13523:(e,t,l)=>{l.d(t,{$r:()=>r,M1:()=>o,li:()=>a,pS:()=>c,wE:()=>i});var s=l(71315);let a="X-Fetch-Nonce",n=new Set;function r(e){n.add(e)}function o(){return n.values().next().value||""}function i(e){let t={};return void 0!==e&&(t["X-Fetch-Nonce-To-Validate"]=e),void 0===e?t[a]=o():n.has(e)?t[a]=e:t[a]=Array.from(n).join(","),t}function c(){let e=s.XC?.head?.querySelector('meta[name="fetch-nonce"]')?.content||"";e&&r(e)}},53627:(e,t,l)=>{l.d(t,{C3:()=>o,JV:()=>a,K3:()=>u,MM:()=>i,OE:()=>m,Zu:()=>d,bj:()=>n,jc:()=>c,kd:()=>r});var s=l(71315);function a(){return s.Kn?.state||{}}function n(e){f(a(),"",e)}function r(e){s.Kn?.pushState({appId:a().appId},"",e),h()}function o(e){f({...a(),...e},"",location.href)}function i(e){n(`?${e.toString()}${s.fV.hash}`)}function c(){n(s.fV.pathname+s.fV.hash)}function d(e){n(e.startsWith("#")?e:`#${e}`)}function u(){n(s.fV.pathname+s.fV.search)}function m(){s.Kn?.back()}function f(e,t,l){s.Kn?.replaceState(e,t,l),h()}function h(){s.cg?.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}},73189:(e,t,l)=>{l.d(t,{l:()=>s});let s=()=>void 0},51407:(e,t,l)=>{l.d(t,{Y:()=>s});function s(){let e={};return e.promise=new Promise((t,l)=>{e.resolve=t,e.reject=l}),e}},28600:(e,t,l)=>{l.d(t,{A:()=>o});let{getItem:s,setItem:a,removeItem:n}=(0,l(82075).A)("localStorage"),r="REACT_PROFILING_ENABLED",o={enable:()=>a(r,"true"),disable:()=>n(r),isEnabled:()=>!!s(r)}},70263:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(88431),a=l(96540);function n(){let e=(0,a.useRef)(!1),t=(0,a.useCallback)(()=>e.current,[]);return(0,s.N)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},88431:(e,t,l)=>{l.d(t,{N:()=>n});var s=l(71315),a=l(96540);let n=void 0!==s.cg?.document?.createElement?a.useLayoutEffect:a.useEffect},42255:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(70263),a=l(96540);let n=function(e){let t=(0,s.A)(),[l,n]=(0,a.useState)(e);return[l,(0,a.useCallback)(e=>{t()&&n(e)},[t])]}},57224:(e,t,l)=>{l.d(t,{y:()=>r});var s=l(74848),a=l(21728),n=l(49936);function r(e){let t,l,r=(0,a.c)(7),{children:o,appName:i,category:c,metadata:d}=e;r[0]!==i||r[1]!==c||r[2]!==d?(t={appName:i,category:c,metadata:d},r[0]=i,r[1]=c,r[2]=d,r[3]=t):t=r[3];let u=t;return r[4]!==o||r[5]!==u?(l=(0,s.jsx)(n.I.Provider,{value:u,children:o}),r[4]=o,r[5]=u,r[6]=l):l=r[6],l}try{r.displayName||(r.displayName="AnalyticsProvider")}catch{}},76629:(e,t,l)=>{l.d(t,{BP:()=>u,D3:()=>d,O8:()=>i});var s=l(74848),a=l(21728),n=l(96540),r=l(71315),o=l(88431);let i={ServerRender:"ServerRender",ClientHydrate:"ClientHydrate",ClientRender:"ClientRender"},c=(0,n.createContext)(i.ClientRender);function d(e){let t,l,d,u,m=(0,a.c)(8),{wasServerRendered:f,children:h}=e;m[0]!==f?(t=()=>r.X3?i.ServerRender:f?i.ClientHydrate:i.ClientRender,m[0]=f,m[1]=t):t=m[1];let[p,x]=(0,n.useState)(t);return m[2]!==p?(l=()=>{p!==i.ClientRender&&x(i.ClientRender)},d=[p],m[2]=p,m[3]=l,m[4]=d):(l=m[3],d=m[4]),(0,o.N)(l,d),m[5]!==h||m[6]!==p?(u=(0,s.jsx)(c.Provider,{value:p,children:h}),m[5]=h,m[6]=p,m[7]=u):u=m[7],u}function u(){return(0,n.useContext)(c)}try{c.displayName||(c.displayName="RenderPhaseContext")}catch{}try{d.displayName||(d.displayName="RenderPhaseProvider")}catch{}},43258:(e,t,l)=>{l.d(t,{Qn:()=>i,T8:()=>d,Y6:()=>m,k6:()=>u});var s=l(74848),a=l(65556),n=l(96540),r=l(73189),o=l(42255);let i=5e3,c=(0,n.createContext)({addToast:r.l,addPersistedToast:r.l,clearPersistedToast:r.l}),d=(0,n.createContext)({toasts:[],persistedToast:null});function u({children:e}){let[t,l]=(0,o.A)([]),[r,u]=(0,n.useState)(null),{safeSetTimeout:m}=(0,a.A)(),f=(0,n.useCallback)(function(e){l([...t,e]),m(()=>l(t.slice(1)),i)},[t,m,l]),h=(0,n.useCallback)(function(e){u(e)},[u]),p=(0,n.useCallback)(function(){u(null)},[u]),x=(0,n.useMemo)(()=>({addToast:f,addPersistedToast:h,clearPersistedToast:p}),[h,f,p]),j=(0,n.useMemo)(()=>({toasts:t,persistedToast:r}),[t,r]);return(0,s.jsx)(c.Provider,{value:x,children:(0,s.jsx)(d.Provider,{value:j,children:e})})}function m(){return(0,n.useContext)(c)}try{c.displayName||(c.displayName="ToastContext")}catch{}try{d.displayName||(d.displayName="InternalToastsContext")}catch{}try{u.displayName||(u.displayName="ToastContextProvider")}catch{}},40064:(e,t,l)=>{l.d(t,{V:()=>m});var s=l(74848),a=l(96540),n=l(43258),r=l(38621),o=l(65556),i=l(16255);let c={info:"",success:"Toast--success",error:"Toast--error"},d={info:(0,s.jsx)(r.InfoIcon,{}),success:(0,s.jsx)(r.CheckIcon,{}),error:(0,s.jsx)(r.StopIcon,{})},u=({message:e,timeToLive:t,icon:l,type:n="info",role:r="log"})=>{let[u,m]=a.useState(!0),{safeSetTimeout:f}=(0,o.A)();return(0,a.useEffect)(()=>{t&&f(()=>m(!1),t-300)},[f,t]),(0,s.jsx)(i.Z,{children:(0,s.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,s.jsxs)("div",{className:`Toast ${c[n]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${n}`,role:r,children:[(0,s.jsx)("span",{className:"Toast-icon",children:l||d[n]}),(0,s.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,a.useContext)(n.T8);return(0,s.jsxs)(s.Fragment,{children:[e.map((e,t)=>(0,s.jsx)(u,{message:e.message,icon:e.icon,timeToLive:n.Qn,type:e.type,role:e.role},t)),t&&(0,s.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}}}]);
//# sourceMappingURL=packages_copilot-coding-agent-status_entry_ts-packages_fetch-headers_fetch-headers_ts-package-442e79-e5f90d32bb40.js.map